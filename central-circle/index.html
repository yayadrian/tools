<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Central Circle</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-XQoYMqMTK8LpG72KXWDSA3yxg0BQwH3jzLFb4rJZzOE=" crossorigin="">
  <style>*{box-sizing:border-box}
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
    margin: 0;
    background: #f7f7f7;
    color: #111;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  header {
    padding: 1.5rem 1rem 0;
  }
  h1 {
    margin: 0 0 .5rem;
    font-size: 1.75rem;
  }
  p {
    margin: 0 0 1rem;
    font-size: 1rem;
    line-height: 1.5;
  }
  main {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 0 1rem 1.5rem;
  }
  #map {
    flex: 1;
    min-height: 420px;
    border: 2px solid #222;
    border-radius: 8px;
  }
  footer {
    font-size: .9rem;
    color: #444;
    padding: 0 1rem 1.5rem;
  }
  a {
    color: #0645ad;
  }
  </style>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-o9N1j7kPppZP2hYhi3F7S0Qe8kPC58LFvH+Sl5vj50Y=" crossorigin="" defer></script>
</head>
<body>
  <header>
    <h1>Central Circle</h1>
    <p>Click anywhere on the map to draw concentric distance rings around that point. Use this to visualise approximate travel radiuses or service areas.</p>
  </header>
  <main>
    <div id="map" role="region" aria-label="Interactive map for drawing concentric circles"></div>
  </main>
  <footer>
    Distances are set in kilometres and can be adjusted in the script below.
  </footer>
  <script type="module">
const map = L.map('map', {
  center: [20, 0],
  zoom: 2,
  worldCopyJump: true
});

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 18,
  attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

// Distances in kilometres for each concentric ring.
const ringDistancesKm = [50, 100, 200, 300];

const markerLayer = L.layerGroup().addTo(map);
const ringsLayer = L.layerGroup().addTo(map);

function drawCentralRings(latlng) {
  markerLayer.clearLayers();
  ringsLayer.clearLayers();

  L.marker(latlng, { title: 'Selected centre' }).addTo(markerLayer);

  ringDistancesKm.forEach(distanceKm => {
    const radiusMeters = distanceKm * 1000;
    L.circle(latlng, {
      radius: radiusMeters,
      color: '#222',
      weight: 2,
      fillColor: '#2b8a3e',
      fillOpacity: 0.1
    }).bindTooltip(`${distanceKm} km`, { permanent: false }).addTo(ringsLayer);
  });
}

map.on('click', event => {
  drawCentralRings(event.latlng);
});

// Provide an initial example so users see the behaviour immediately.
drawCentralRings(map.getCenter());
  </script>
</body>
</html>
